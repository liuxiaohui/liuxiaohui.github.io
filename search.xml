<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Creating a local yum repository mirror server]]></title>
      <url>http://liuxiaohui.net/2016/12/27/Creating-a-local-yum-repository-mirror-server.html</url>
      <content type="html"><![CDATA[<h2 id="安装配置Rsync服务"><a href="#安装配置Rsync服务" class="headerlink" title="安装配置Rsync服务"></a>安装配置Rsync服务</h2><h3 id="安装Rsync"><a href="#安装Rsync" class="headerlink" title="安装Rsync"></a>安装Rsync</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ yum -y install rsync</div></pre></td></tr></table></figure>
<h3 id="创建Yum-Repository存放的目录"><a href="#创建Yum-Repository存放的目录" class="headerlink" title="创建Yum Repository存放的目录"></a>创建Yum Repository存放的目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p /opt/nginx/html/centos</div><div class="line">$ mkdir -p /opt/nginx/html/epel</div><div class="line">$ mkdir -p /opt/nginx/html/repoforge</div><div class="line">$ mkdir -p /opt/nginx/html/exclude</div></pre></td></tr></table></figure>
<h3 id="创建Rsync同步脚本"><a href="#创建Rsync同步脚本" class="headerlink" title="创建Rsync同步脚本"></a>创建Rsync同步脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /opt/nginx/html/rsync_cron.sh</div><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># Yum Repository Server.</span></div><div class="line">/usr/bin/rsync -avrt --delete-excluded rsync://mirrors.tuna.tsinghua.edu.cn/centos/ --exclude-from=/opt/nginx/html/exclude/exclude_centos.list /opt/nginx/html/centos/</div><div class="line"></div><div class="line">/usr/bin/rsync -avrt --delete-excluded rsync://mirrors.tuna.tsinghua.edu.cn/repoforge/ --exclude-from=/opt/nginx/html/exclude/exclude_repoforge.list /opt/nginx/html/repoforge/</div><div class="line"></div><div class="line">/usr/bin/rsync -avrt --delete-excluded rsync://mirrors.tuna.tsinghua.edu.cn/epel/ --exclude-from=/opt/nginx/html/exclude/exclude_epel.list /opt/nginx/html/epel/</div><div class="line"></div><div class="line"><span class="built_in">exit</span> 0</div><div class="line">EOF</div></pre></td></tr></table></figure>
<a id="more"></a> 
<h3 id="创建Rsync同步脚本排除文件列表"><a href="#创建Rsync同步脚本排除文件列表" class="headerlink" title="创建Rsync同步脚本排除文件列表"></a>创建Rsync同步脚本排除文件列表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /opt/nginx/html/exclude/exclude_centos.list</div><div class="line">2</div><div class="line">2.1</div><div class="line">3</div><div class="line">3.1</div><div class="line">3.3</div><div class="line">3.4</div><div class="line">3.5</div><div class="line">3.6</div><div class="line">3.7</div><div class="line">3.8</div><div class="line">3.9</div><div class="line">4</div><div class="line">4.0</div><div class="line">4.1</div><div class="line">4.2</div><div class="line">4.3</div><div class="line">4.4</div><div class="line">4.5</div><div class="line">4.6</div><div class="line">4.7</div><div class="line">4.8</div><div class="line">4.9</div><div class="line">5</div><div class="line">5.0</div><div class="line">5.1</div><div class="line">5.10</div><div class="line">5.11</div><div class="line">5.2</div><div class="line">5.3</div><div class="line">5.4</div><div class="line">5.5</div><div class="line">5.6</div><div class="line">5.7</div><div class="line">5.8</div><div class="line">5.9</div><div class="line">6.0</div><div class="line">6.1</div><div class="line">6.2</div><div class="line">6.3</div><div class="line">6.4</div><div class="line">6.5</div><div class="line">6.6</div><div class="line">6.7</div><div class="line">6.8/centosplus/i386</div><div class="line">6.8/contrib/i386</div><div class="line">6.8/extras/i386</div><div class="line">6.8/isos/i386</div><div class="line">6.8/updates/i386</div><div class="line">6.8/cr/i386</div><div class="line">6.8/fastrack/i386</div><div class="line">6.8/os/i386</div><div class="line">7.0.1406</div><div class="line">7.1.1503</div><div class="line">7.2.1511</div><div class="line">RPM-GPG-KEY-beta</div><div class="line">RPM-GPG-KEY-CentOS-3</div><div class="line">RPM-GPG-KEY-centos4</div><div class="line">RPM-GPG-KEY-CentOS-4</div><div class="line">RPM-GPG-KEY-CentOS-5</div><div class="line">EOF</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /opt/nginx/html/exclude/exclude_epel.list</div><div class="line">4</div><div class="line">4AS</div><div class="line">4ES</div><div class="line">4WS</div><div class="line">5</div><div class="line">5Client</div><div class="line">5Server</div><div class="line">6/i386</div><div class="line">6/ppc64</div><div class="line">6/SRPMS</div><div class="line">7/aarch64</div><div class="line">7/ppc64</div><div class="line">7/ppc64le</div><div class="line">7/SRPMS</div><div class="line">project</div><div class="line">testing</div><div class="line">epel-release-latest-5.noarch.rpm</div><div class="line">RPM-GPG-KEY-EPEL-4</div><div class="line">RPM-GPG-KEY-EPEL-5</div><div class="line">EOF</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /opt/nginx/html/exclude/exclude_repoforge.list</div><div class="line">5</div><div class="line">6/i386</div><div class="line">7/i386</div><div class="line">redhat/el2.1</div><div class="line">redhat/el3</div><div class="line">redhat/el4</div><div class="line">redhat/el5</div><div class="line">redhat/el6/en/i386</div><div class="line">redhat/el6/en/ppc</div><div class="line"><span class="built_in">source</span></div><div class="line">EOF</div></pre></td></tr></table></figure>
<h3 id="配置Rsync同步脚本定时执行任务"><a href="#配置Rsync同步脚本定时执行任务" class="headerlink" title="配置Rsync同步脚本定时执行任务"></a>配置Rsync同步脚本定时执行任务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ chmod 755 /opt/nginx/html/rsync_cron.sh</div><div class="line">$ cat &lt;&lt;EOF &gt;&gt; /var/spool/cron/root</div><div class="line"><span class="comment"># Yum Repository Rsync.</span></div><div class="line">3 2 * * * /opt/nginx/html/rsync_cron.sh &gt; /dev/null 2&gt;&amp;1</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h2 id="安装配置Web服务"><a href="#安装配置Web服务" class="headerlink" title="安装配置Web服务"></a>安装配置Web服务</h2><h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ wget  http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</div><div class="line">$ rpm -ivh nginx-release-centos-7-0.el7.ngx.noarch.rpm</div><div class="line">$ yum -y install nginx</div></pre></td></tr></table></figure>
<h3 id="修改Nginx配置文件"><a href="#修改Nginx配置文件" class="headerlink" title="修改Nginx配置文件"></a>修改Nginx配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/nginx/conf.d/default</div><div class="line"><span class="comment"># The default server</span></div><div class="line">server &#123;</div><div class="line">    listen       80 default_server;</div><div class="line">    listen       [::]:80 default_server;</div><div class="line">    server_name  _;</div><div class="line">    root         /opt/nginx/html;</div><div class="line">    autoindex   on;</div><div class="line">    autoindex_exact_size  off;</div><div class="line">    autoindex_localtime  on;</div><div class="line"></div><div class="line">    <span class="comment"># Load configuration files for the default server block.</span></div><div class="line">    include /etc/nginx/default.d/*.conf;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    error_page 404 /404.html;</div><div class="line">        location = /40x.html &#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    error_page 500 502 503 504 /50x.html;</div><div class="line">        location = /50x.html &#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line">EOF</div></pre></td></tr></table></figure>
<p>###　配置Nginx开机启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ systemctl start nginx</div><div class="line">$ systemctl <span class="built_in">enable</span> nginx</div></pre></td></tr></table></figure>
<h2 id="生成Yum客户端配置文件"><a href="#生成Yum客户端配置文件" class="headerlink" title="生成Yum客户端配置文件"></a>生成Yum客户端配置文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/yum.repos.d/CentOS-Base.repo</div><div class="line"><span class="comment"># CentOS-Base.repo</span></div><div class="line">[base]</div><div class="line">name=CentOS-<span class="variable">$releasever</span> - Base</div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=1</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/centos/RPM-GPG-KEY-CentOS-<span class="variable">$releasever</span></div><div class="line"></div><div class="line"><span class="comment"># released updates </span></div><div class="line">[updates]</div><div class="line">name=CentOS-<span class="variable">$releasever</span> - Updates</div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/centos/<span class="variable">$releasever</span>/updates/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=1</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/centos/RPM-GPG-KEY-CentOS-<span class="variable">$releasever</span></div><div class="line"></div><div class="line"><span class="comment"># additional packages that may be useful</span></div><div class="line">[extras]</div><div class="line">name=CentOS-<span class="variable">$releasever</span> - Extras</div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/centos/<span class="variable">$releasever</span>/extras/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=1</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/centos/RPM-GPG-KEY-CentOS-<span class="variable">$releasever</span></div><div class="line"></div><div class="line"><span class="comment"># additional packages that extend functionality of existing packages</span></div><div class="line">[centosplus]</div><div class="line">name=CentOS-<span class="variable">$releasever</span> - Plus</div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/centos/<span class="variable">$releasever</span>/centosplus/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=1</div><div class="line">enabled=0</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/centos/RPM-GPG-KEY-CentOS-<span class="variable">$releasever</span></div><div class="line">EOF</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/yum.repos.d/epel.repo</div><div class="line"><span class="comment"># epel.repo</span></div><div class="line">[epel]</div><div class="line">name=Extra Packages <span class="keyword">for</span> Enterprise Linux <span class="variable">$releasever</span></div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/epel/<span class="variable">$releasever</span>/<span class="variable">$basearch</span></div><div class="line">failovermethod=priority</div><div class="line">enabled=1</div><div class="line">gpgcheck=1</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/epel/RPM-GPG-KEY-EPEL-<span class="variable">$releasever</span></div><div class="line">priority=10</div><div class="line"></div><div class="line">[epel-debuginfo]</div><div class="line">name=Extra Packages <span class="keyword">for</span> Enterprise Linux <span class="variable">$releasever</span> - Debug</div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/epel/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/debug</div><div class="line">failovermethod=priority</div><div class="line">enabled=0</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/epel/RPM-GPG-KEY-EPEL-<span class="variable">$releasever</span></div><div class="line">gpgcheck=1</div><div class="line">priority=10</div><div class="line"></div><div class="line">[epel-source]</div><div class="line">name=Extra Packages <span class="keyword">for</span> Enterprise Linux <span class="variable">$releasever</span> - Source</div><div class="line">baseurl=http://YOUR_LAN_IP_ADDR/epel/<span class="variable">$releasever</span>/SRPMS</div><div class="line">failovermethod=priority</div><div class="line">enabled=0</div><div class="line">gpgkey=http://YOUR_LAN_IP_ADDR/epel/RPM-GPG-KEY-EPEL-<span class="variable">$releasever</span></div><div class="line">gpgcheck=1</div><div class="line">priority=10</div><div class="line">EOF</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/yum.repos.d/rpmforge.repo</div><div class="line"><span class="comment"># rpmforge.repo</span></div><div class="line">[rpmforge]</div><div class="line">name = RHEL <span class="variable">$releasever</span> - dag</div><div class="line">baseurl = http://YOUR_LAN_IP_ADDR/repoforge/redhat/el<span class="variable">$releasever</span>/en/<span class="variable">$basearch</span>/rpmforge</div><div class="line">enabled = 1</div><div class="line">protect = 0</div><div class="line">gpgkey = http://YOUR_LAN_IP_ADDR/repoforge/RPM-GPG-KEY.dag.txt </div><div class="line">gpgcheck = 1</div><div class="line">priority = 20</div><div class="line"></div><div class="line">[rpmforge-extras]</div><div class="line">name = RHEL <span class="variable">$releasever</span> - extras</div><div class="line">baseurl = http://YOUR_LAN_IP_ADDR//repoforge/redhat/el<span class="variable">$releasever</span>/en/<span class="variable">$basearch</span>/extras</div><div class="line">enabled = 0</div><div class="line">protect = 0</div><div class="line">gpgkey = http://YOUR_LAN_IP_ADDR/repoforge/RPM-GPG-KEY.dag.txt </div><div class="line">gpgcheck = 1</div><div class="line">priority = 20</div><div class="line"></div><div class="line">[rpmforge-testing]</div><div class="line">name = RHEL <span class="variable">$releasever</span> - testing</div><div class="line">baseurl = http://YOUR_LAN_IP_ADDR/repoforge/redhat/el<span class="variable">$releasever</span>/en/<span class="variable">$basearch</span>/testing</div><div class="line">enabled = 0</div><div class="line">protect = 0</div><div class="line">gpgkey = http://YOUR_LAN_IP_ADDR/repoforge/RPM-GPG-KEY.dag.txt </div><div class="line">gpgcheck = 1</div><div class="line">priority = 20</div><div class="line">EOF</div></pre></td></tr></table></figure>
<p>最后，将上面生成的Yum客户端配置文件复制到其他服务器即可。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Customization after Ubuntu 16.10 new installation]]></title>
      <url>http://liuxiaohui.net/2016/12/26/Customization-after-Ubuntu-16-10-new-installation.html</url>
      <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># Created By liuxiaohui @2016/12/26</span></div><div class="line"></div><div class="line"><span class="comment">## System</span></div><div class="line"></div><div class="line"><span class="comment"># system update</span></div><div class="line">sudo apt update</div><div class="line">sudo apt upgrade</div><div class="line"></div><div class="line"><span class="comment"># vim</span></div><div class="line">sudo apt remove vim-tiny</div><div class="line">sudo apt install vim</div><div class="line"></div><div class="line"><span class="comment"># terminator</span></div><div class="line">sudo apt install terminator</div><div class="line"></div><div class="line"><span class="comment"># shutter</span></div><div class="line">sudo apt install shutter</div><div class="line"></div><div class="line"><span class="comment"># rar</span></div><div class="line">sudo apt install rar unrar</div><div class="line"></div><div class="line"><span class="comment"># bleachbit</span></div><div class="line">sudo apt install bleachbit</div><div class="line"></div><div class="line"><span class="comment"># grub customizer</span></div><div class="line">sudo add-apt-repository ppa:danielrichter2007/grub-customizer</div><div class="line">sudo apt update</div><div class="line">sudo apt install grub-customizer</div><div class="line"></div><div class="line"><span class="comment"># sougou pinyin</span></div><div class="line">wget <span class="string">"http://pinyin.sogou.com/linux/download.php?f=linux&amp;bit=64"</span> -O <span class="string">"sougou_64bit.deb"</span></div><div class="line">sudo dpkg -i sougou_64bit.deb</div><div class="line">sudo sed -i <span class="string">'s/deb/#deb/'</span> /etc/apt/sources.list.d/sogoupinyin.list</div><div class="line"></div><div class="line"><span class="comment"># chrome</span></div><div class="line">wget <span class="string">"https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb"</span> -O <span class="string">"chrome_64bit.deb"</span></div><div class="line">sudo dpkg -i chrome_64bit.deb</div><div class="line"></div><div class="line"><span class="comment"># corebird</span></div><div class="line">sudo apt install corebird</div><div class="line"></div><div class="line"><span class="comment"># proxychains</span></div><div class="line">sudo apt install proxychains</div><div class="line">sudo <span class="built_in">echo</span> <span class="string">"socks5 127.0.0.1 1080"</span> &gt;&gt; /etc/proxychains.conf</div><div class="line"></div><div class="line"><span class="comment"># shadowsocks</span></div><div class="line">sudo apt install python-gevent python-pip</div><div class="line">sudo pip install --upgrade pip</div><div class="line">sudo pip install shadowsocks</div><div class="line"></div><div class="line">sudo bash -c <span class="string">'cat &lt;&lt; EOF &gt; /etc/shadowsocks.json</span></div><div class="line">&#123;</div><div class="line">"server": "SHADOWSOCKS_SERVER_IP_ADDRESS",</div><div class="line">"server_port": 9000,</div><div class="line">"local_address": "127.0.0.1",</div><div class="line">"local_port": 1080,</div><div class="line">"password": "PASSWORD",</div><div class="line">"timeout":300,</div><div class="line">"method": "aes-256-cfb",</div><div class="line">"fast_open": false,</div><div class="line">"workers": 1,</div><div class="line">"remarks": "",</div><div class="line">"auth": false</div><div class="line">&#125;</div><div class="line">EOF'</div><div class="line"></div><div class="line">sudo bash -c <span class="string">'cat &lt;&lt; EOF &gt; /home/$USER/.config/autostart/sslocal.desktop</span></div><div class="line">[Desktop Entry]</div><div class="line">Type=Application</div><div class="line">Exec=/usr/local/bin/sslocal -c /etc/shadowsocks.json /dev/null 2&gt;&amp;1 &amp;</div><div class="line">Hidden=false</div><div class="line">NoDisplay=false</div><div class="line">X-GNOME-Autostart-enabled=true</div><div class="line">Name[zh_CN]=Shadowsocks</div><div class="line">Name=Shadowsocks</div><div class="line">Comment[zh_CN]=Shadowsocks</div><div class="line">Comment=Shadowsocks</div><div class="line">EOF'</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">## Media</span></div><div class="line"></div><div class="line"><span class="comment"># vlc </span></div><div class="line">sudo apt install vlc</div><div class="line"></div><div class="line"><span class="comment"># media codec </span></div><div class="line">sudo apt install ubuntu-restricted-extras</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">## Development</span></div><div class="line"></div><div class="line"><span class="comment"># develop tools</span></div><div class="line">sudo apt install git make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils</div><div class="line"></div><div class="line"><span class="comment"># haroopad markdown editor</span></div><div class="line">wget <span class="string">"https://bbuseruploads.s3.amazonaws.com/rhiokim/haroopad-download/downloads/haroopad-v0.13.1-x64.deb"</span> -O <span class="string">"haroopad-v0.13.1-x64.deb"</span></div><div class="line">sudo dpkg -i haroopad-v0.13.1-x64.deb</div><div class="line"></div><div class="line"><span class="comment"># texlive pandoc</span></div><div class="line">sudo apt intall texlive texlive-latex-extra pandoc</div><div class="line"></div><div class="line"><span class="comment"># bluefish</span></div><div class="line">sudo apt install bluefish</div><div class="line"></div><div class="line"><span class="comment"># pyenv</span></div><div class="line">git <span class="built_in">clone</span> https://github.com/yyuu/pyenv.git ~/.pyenv</div><div class="line">cat &lt;&lt;EOF &gt;&gt; ~/.bashrc</div><div class="line"><span class="comment"># pyenv settings</span></div><div class="line"><span class="built_in">export</span> PYENV_ROOT=<span class="string">"<span class="variable">$HOME</span>/.pyenv"</span></div><div class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$PYENV_ROOT</span>/bin:<span class="variable">$PATH</span>"</span></div><div class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv init -)</span>"</span></div><div class="line">EOF</div><div class="line"></div><div class="line"><span class="comment"># pycharm</span></div><div class="line">wget <span class="string">"https://download.jetbrains.com/python/pycharm-professional-2016.3.1.tar.gz"</span> -O <span class="string">"pycharm.tar.gz"</span></div><div class="line">tar -xvf pycharm.tar.gz</div><div class="line">mkdir ~/Application</div><div class="line">mv pycharm-2016.3.1 ~/Application/</div><div class="line"></div><div class="line"><span class="comment">#  mysql-server</span></div><div class="line">sudo apt install mysql-server</div><div class="line"></div><div class="line"><span class="comment"># mongodb</span></div><div class="line">sudo apt install mongodb</div><div class="line"></div><div class="line"><span class="comment"># redis-server</span></div><div class="line">sudo apt install redis-server</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[How to install CentOS7 with kickstart]]></title>
      <url>http://liuxiaohui.net/2016/12/21/How-to-install-CentOS7-with-kickstart.html</url>
      <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ systemctl stop firewalld</div><div class="line">$ systemctl <span class="built_in">disable</span> firewalld</div></pre></td></tr></table></figure>
<h3 id="关闭SELinux"><a href="#关闭SELinux" class="headerlink" title="关闭SELinux"></a>关闭SELinux</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ setenforce 0</div><div class="line">$ sed -i <span class="string">'s/SELINUX=enforcing/SELINUX=disabled/'</span> /etc/selinux/config</div></pre></td></tr></table></figure>
<h2 id="配置Web服务"><a href="#配置Web服务" class="headerlink" title="配置Web服务"></a>配置Web服务</h2><h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ wget  http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</div><div class="line">$ rpm -ivh nginx-release-centos-7-0.el7.ngx.noarch.rpm</div><div class="line">$ yum -y install nginx</div></pre></td></tr></table></figure>
<h3 id="配置CentOS镜像"><a href="#配置CentOS镜像" class="headerlink" title="配置CentOS镜像"></a>配置CentOS镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ wget  http://mirrors.163.com/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso</div><div class="line">$ mkdir -p /usr/share/nginx/html/centos</div><div class="line">$ mount -t iso9660 CentOS-7-x86_64-Minimal-1611.iso /usr/share/nginx/html/centos</div></pre></td></tr></table></figure>
<a id="more"></a> 
<h3 id="启动Nginx"><a href="#启动Nginx" class="headerlink" title="启动Nginx"></a>启动Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ systemctl start nginx</div><div class="line">$ systemctl <span class="built_in">enable</span> nginx</div></pre></td></tr></table></figure>
<h2 id="配置DHCP服务"><a href="#配置DHCP服务" class="headerlink" title="配置DHCP服务"></a>配置DHCP服务</h2><h3 id="安装DHCP服务"><a href="#安装DHCP服务" class="headerlink" title="安装DHCP服务"></a>安装DHCP服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ yum -y install dhcp</div></pre></td></tr></table></figure>
<h3 id="创建DHCP配置文件"><a href="#创建DHCP配置文件" class="headerlink" title="创建DHCP配置文件"></a>创建DHCP配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/dhcp/dhcpd.conf</div><div class="line"> default-lease-time 600;</div><div class="line"> max-lease-time 7200;</div><div class="line"> <span class="built_in">log</span>-facility <span class="built_in">local</span>7;</div><div class="line"> subnet 172.16.16.0 netmask 255.255.255.0 &#123;</div><div class="line">         option routers                  172.16.16.254</div><div class="line">         option subnet-mask              255.255.255.0;</div><div class="line">         option domain-name-servers      172.16.16.253;</div><div class="line">         option time-offset              -18000;</div><div class="line">         range dynamic-bootp 172.16.16.101 172.16.16.200;</div><div class="line">         default-lease-time 21600;</div><div class="line">         max-lease-time 43200;</div><div class="line">         next-server 172.16.16.1;</div><div class="line">         filename <span class="string">"pxelinux.0"</span>;</div><div class="line"> &#125;</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h3 id="启动DHCP服务"><a href="#启动DHCP服务" class="headerlink" title="启动DHCP服务"></a>启动DHCP服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ systemctl start dhcpd</div><div class="line">$ systemctl <span class="built_in">enable</span> dhcpd</div></pre></td></tr></table></figure>
<h2 id="配置TFTP服务"><a href="#配置TFTP服务" class="headerlink" title="配置TFTP服务"></a>配置TFTP服务</h2><h3 id="安装TFTP服务"><a href="#安装TFTP服务" class="headerlink" title="安装TFTP服务"></a>安装TFTP服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ yum -y install xinetd tftp-server tftp syslinux-tftpboot</div></pre></td></tr></table></figure>
<h3 id="创建TFTP配置文件"><a href="#创建TFTP配置文件" class="headerlink" title="创建TFTP配置文件"></a>创建TFTP配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/xinetd.d/tftp</div><div class="line"><span class="comment"># default: off</span></div><div class="line"><span class="comment"># description: The tftp server serves files using the trivial file transfer #protocol.  The tftp protocol is often used to boot diskless #workstations, download configuration files to network-aware printers, #and to start the installation process for some operating systems.</span></div><div class="line">service tftp</div><div class="line">&#123;</div><div class="line">socket_<span class="built_in">type</span>= dgram</div><div class="line">protocol= udp</div><div class="line"><span class="built_in">wait</span>= yes</div><div class="line">user= root</div><div class="line">server= /usr/sbin/in.tftpd</div><div class="line">server_args= <span class="_">-s</span> /var/lib/tftpboot</div><div class="line"><span class="built_in">disable</span>= no</div><div class="line">per_<span class="built_in">source</span>= 11</div><div class="line">cps= 100 2</div><div class="line">flags= IPv4</div><div class="line">&#125;</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h3 id="启动TFTP服务"><a href="#启动TFTP服务" class="headerlink" title="启动TFTP服务"></a>启动TFTP服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ systemctl start tftp</div><div class="line">$ systemctl <span class="built_in">enable</span> tftp</div></pre></td></tr></table></figure>
<h3 id="拷贝安装PXE启动文件"><a href="#拷贝安装PXE启动文件" class="headerlink" title="拷贝安装PXE启动文件"></a>拷贝安装PXE启动文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ cp /usr/share/nginx/html/centos/images/pxeboot/vmlinuz /var/lib/tftpboot/vmlinuz</div><div class="line">$ cp /usr/share/nginx/html/centos/images/pxeboot/initrd.img /var/lib/tftpboot/initrd.img</div></pre></td></tr></table></figure>
<h3 id="创建PXE引导记录"><a href="#创建PXE引导记录" class="headerlink" title="创建PXE引导记录"></a>创建PXE引导记录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p /var/lib/tftpboot/pxelinux.cfg</div><div class="line">$ cat &lt;&lt;EOF &gt; /var/lib/tftpboot/pxelinux.cfg/default</div><div class="line">default linux</div><div class="line">prompt 1</div><div class="line">timeout 180</div><div class="line">display boot.msg</div><div class="line">label linux</div><div class="line">  kernel vmlinuz</div><div class="line">  append initrd=initrd.img text ks=http://172.16.16.1/ks.cfg</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h2 id="定制Kickstart"><a href="#定制Kickstart" class="headerlink" title="定制Kickstart"></a>定制Kickstart</h2><h3 id="创建Kickstart文件"><a href="#创建Kickstart文件" class="headerlink" title="创建Kickstart文件"></a>创建Kickstart文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /usr/share/nginx/html/CentOS7-Minimal-KS.cfg</div><div class="line"><span class="comment">#platform=86, AMD64, or Intel EM64T</span></div><div class="line"></div><div class="line"><span class="comment">#version=DEVEL</span></div><div class="line"><span class="comment"># System authorization information</span></div><div class="line">auth --useshadow  --passalgo=sha512</div><div class="line"></div><div class="line"><span class="comment"># Install OS instead of upgrade</span></div><div class="line">install</div><div class="line"></div><div class="line"><span class="comment"># Use network installation</span></div><div class="line">url --url=<span class="string">"http://172.16.16.1/centos"</span></div><div class="line"></div><div class="line"><span class="comment"># Use text mode install</span></div><div class="line">text</div><div class="line"></div><div class="line"><span class="comment"># Firewall configuration</span></div><div class="line">firewall --disabled</div><div class="line">firstboot --disable</div><div class="line">ignoredisk --only-use=sda</div><div class="line"></div><div class="line"><span class="comment"># Keyboard layouts</span></div><div class="line">keyboard --vckeymap=us --xlayouts=<span class="string">''</span></div><div class="line"></div><div class="line"><span class="comment"># System language</span></div><div class="line">lang en_US.UTF-8</div><div class="line"></div><div class="line"><span class="comment"># Installation logging level</span></div><div class="line">logging --level=info</div><div class="line"></div><div class="line"><span class="comment"># Network information</span></div><div class="line">network  --bootproto=dhcp --device=eth0 --onboot=yes</div><div class="line">network  --hostname=localhost.localdomain</div><div class="line"></div><div class="line"><span class="comment"># Reboot after installation</span></div><div class="line">reboot</div><div class="line"></div><div class="line"><span class="comment"># Root password</span></div><div class="line">rootpw --iscrypted <span class="variable">$1</span><span class="variable">$YK0iQhiP</span><span class="variable">$PLjn4mFoOzFb7Asr4BdQj</span>/</div><div class="line"></div><div class="line"><span class="comment"># SELinux configuration</span></div><div class="line">selinux --disabled</div><div class="line"></div><div class="line"><span class="comment"># System services</span></div><div class="line">services --enabled=<span class="string">"chronyd"</span></div><div class="line"></div><div class="line"><span class="comment"># Do not configure the X Window System</span></div><div class="line">skipx</div><div class="line"></div><div class="line"><span class="comment"># System timezone</span></div><div class="line">timezone Asia/Shanghai --isUtc</div><div class="line"></div><div class="line"><span class="comment"># System bootloader configuration</span></div><div class="line">bootloader --append=<span class="string">" crashkernel=auto"</span> --location=mbr --boot-drive=sda</div><div class="line"></div><div class="line"><span class="comment"># Clear the Master Boot Record</span></div><div class="line">zerombr</div><div class="line"></div><div class="line"><span class="comment"># Partition clearing information</span></div><div class="line">clearpart --all --initlabel</div><div class="line"></div><div class="line"><span class="comment"># Disk partitioning information</span></div><div class="line">part swap --asprimary --fstype=<span class="string">"swap"</span> --size=32768</div><div class="line">part /boot --asprimary --fstype=<span class="string">"ext4"</span> --size=200</div><div class="line">part / --asprimary --fstype=<span class="string">"ext4"</span> --size=51200</div><div class="line">part /opt --asprimary --fstype=<span class="string">"ext4"</span> --grow --size=1</div><div class="line"></div><div class="line">%packages</div><div class="line">@^minimal</div><div class="line">@core</div><div class="line">chrony</div><div class="line">wget</div><div class="line">net-tools</div><div class="line">kexec-tools</div><div class="line"></div><div class="line">%end</div><div class="line"></div><div class="line">%addon com_redhat_kdump --enable --reserve-mb=<span class="string">'auto'</span></div><div class="line"></div><div class="line">%end</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h3 id="创建Kickstart文件软链接"><a href="#创建Kickstart文件软链接" class="headerlink" title="创建Kickstart文件软链接"></a>创建Kickstart文件软链接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ln <span class="_">-s</span> /usr/share/nginx/html/CentOS7-Minimal-KS.cfg /usr/share/nginx/html/ks.cfg</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[How to install zcash cpu miner on CentOS6]]></title>
      <url>http://liuxiaohui.net/2016/12/21/How-to-install-zcash-cpu-miner-on-CentOS6.html</url>
      <content type="html"><![CDATA[<p>目前，Zcash钱包只有Linux版本，没有Windows版本；而能拿来开箱即用的Zcash Miner，却只有Windows版本，没有Linux版本，于是，如果想在Linux上挖矿，就只好自己编译了。</p>
<h3 id="升级编译器"><a href="#升级编译器" class="headerlink" title="升级编译器"></a>升级编译器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ wget http://people.centos.org/tru/devtools-2/devtools-2.repo -O /etc/yum.repos.d/devtools-2.repo</div><div class="line">$ yum install devtoolset-2-gcc devtoolset-2-binutils devtoolset-2-gcc-c++ devtoolset-2-gcc-gfortran cmake libcxx</div><div class="line">$ scl <span class="built_in">enable</span> devtoolset-2 bash</div><div class="line">$ <span class="built_in">source</span> /opt/rh/devtoolset-2/<span class="built_in">enable</span></div></pre></td></tr></table></figure>
<h3 id="安装Boost"><a href="#安装Boost" class="headerlink" title="安装Boost"></a>安装Boost</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ wget http://downloads.sourceforge.net/project/boost/boost/1.62.0/boost_1_62_0.tar.gz</div><div class="line">$ tar -xzvf boost_1_62_0.tar.gz</div><div class="line">$ <span class="built_in">cd</span> boost_1_62_0</div><div class="line">$ ./bootstrap.sh</div><div class="line">$ ./b2</div><div class="line">$ ./b2 install</div></pre></td></tr></table></figure>
<h3 id="安装Miner"><a href="#安装Miner" class="headerlink" title="安装Miner"></a>安装Miner</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> -b Linux https://github.com/nicehash/nheqminer.git</div><div class="line">$ <span class="built_in">cd</span> nheqminer/cpu_xenoncat/Linux/asm/</div><div class="line">$ sh assemble.sh</div><div class="line">$ <span class="built_in">cd</span> ../../../Linux_cmake/nheqminer_cpu_xenoncat</div><div class="line">$ cmake .</div><div class="line">$ make -j $(nproc)</div></pre></td></tr></table></figure>
<a id="more"></a> 
<h3 id="运行Miner"><a href="#运行Miner" class="headerlink" title="运行Miner"></a>运行Miner</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ./nheqminer/Linux_cmake/nheqminer_cpu_xenoncat/nheqminer_cpu_xenoncat <span class="_">-l</span> YOUR_MINE_POOL_URL -u YOUR_MINE_USERNAME -p YOUR_MINE_PASSWORD</div></pre></td></tr></table></figure>
<p>因为是动态编译，所以，如果要在其他机器上运行这个Miner，需要同时拷贝二进制文件，和依赖的动态库文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ scp ~/nheqminer/Linux_cmake/nheqminer_cpu_xenoncat/nheqminer_cpu_xenoncat YOUR_REMOTE_HOST:~/</div><div class="line">$ scp -r /usr/<span class="built_in">local</span>/lib YOUR_REMOTE_HOST:/usr/<span class="built_in">local</span>/lib</div></pre></td></tr></table></figure></p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://github.com/nicehash/nheqminer/issues/173" target="_blank" rel="external">https://github.com/nicehash/nheqminer/issues/173</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Make the python requests work via socks proxy on CentOS server]]></title>
      <url>http://liuxiaohui.net/2016/07/27/Make-the-python-requests-work-via-socks-proxy-on-CentOS-server.html</url>
      <content type="html"><![CDATA[<p>让爬虫脚本拥有翻墙能力是很重要的:)</p>
<h2 id="在CentOS上安装Shadowsocks"><a href="#在CentOS上安装Shadowsocks" class="headerlink" title="在CentOS上安装Shadowsocks"></a>在CentOS上安装Shadowsocks</h2><h3 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ cat /etc/issue</div><div class="line">CentOS release 6.6 (Final)</div><div class="line">Kernel \r on an \m</div><div class="line"></div><div class="line">$ python --version</div><div class="line">Python 3.5.2</div><div class="line"></div><div class="line">$ pip --version</div><div class="line">pip 8.1.2 from /usr/<span class="built_in">local</span>/lib/python3.5/site-packages (python 3.5)</div></pre></td></tr></table></figure>
<h3 id="通过pip安装ShadowSocks"><a href="#通过pip安装ShadowSocks" class="headerlink" title="通过pip安装ShadowSocks"></a>通过pip安装ShadowSocks</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ pip install shadowsocks</div><div class="line">Collecting shadowsocks</div><div class="line">  Using cached shadowsocks-2.8.2.tar.gz</div><div class="line">Building wheels <span class="keyword">for</span> collected packages: shadowsocks</div><div class="line">  Running setup.py bdist_wheel <span class="keyword">for</span> shadowsocks ... <span class="keyword">done</span></div><div class="line">  Stored <span class="keyword">in</span> directory: /root/.cache/pip/wheels/c9/d8/ff/5425932823af361970658e9421b4d53ac50b08dcbe6fd41e5f</div><div class="line">Successfully built shadowsocks</div><div class="line">Installing collected packages: shadowsocks</div><div class="line">Successfully installed shadowsocks-2.8.2</div></pre></td></tr></table></figure>
<a id="more"></a> 
<h3 id="创建配置文件-etc-shadowsocks-json"><a href="#创建配置文件-etc-shadowsocks-json" class="headerlink" title="创建配置文件/etc/shadowsocks.json"></a>创建配置文件/etc/shadowsocks.json</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ cat &lt;&lt;EOF &gt; /etc/shadowsocks.json</div><div class="line">&#123;</div><div class="line">     <span class="string">"server"</span>:<span class="string">"your_server_ip"</span>,      <span class="comment">#ss服务器IP</span></div><div class="line">     <span class="string">"server_port"</span>:your_server_port, <span class="comment">#服务器端口</span></div><div class="line">     <span class="string">"local_address"</span>: <span class="string">"127.0.0.1"</span>,   <span class="comment">#本地IP</span></div><div class="line">     <span class="string">"local_port"</span>:1080,              <span class="comment">#本地端口</span></div><div class="line">     <span class="string">"password"</span>:<span class="string">"your_server_passwd"</span>,<span class="comment">#连接ss密码</span></div><div class="line">     <span class="string">"timeout"</span>:300,                  <span class="comment">#等待超时</span></div><div class="line">     <span class="string">"method"</span>:<span class="string">"aes-256-cfb"</span>,         <span class="comment">#加密方式</span></div><div class="line">     <span class="string">"fast_open"</span>: <span class="literal">false</span>,             <span class="comment">#true或false。如果你的服务器Linux内核在3.7+，可以开启fast_open以降低延迟。开启方法：echo 3 &gt; /proc/sys/net/ipv4/tcp_fastopen 开启之后，将fast_open的配置设置为 true 即可</span></div><div class="line">     <span class="string">"workers"</span>: 1                    <span class="comment"># 工作线程数</span></div><div class="line">&#125;</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h3 id="启动ShadowSocks客户端"><a href="#启动ShadowSocks客户端" class="headerlink" title="启动ShadowSocks客户端"></a>启动ShadowSocks客户端</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ nohup sslocal -c /etc/shadowsocks.json /dev/null 2&gt;&amp;1 &amp;</div></pre></td></tr></table></figure>
<h3 id="将Shadowsocks客户端加入开机自启动"><a href="#将Shadowsocks客户端加入开机自启动" class="headerlink" title="将Shadowsocks客户端加入开机自启动"></a>将Shadowsocks客户端加入开机自启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"nohup sslocal -c /etc/shadowsocks.json /dev/null 2&gt;&amp;1 &amp;"</span> &gt;&gt; /etc/rc.local</div></pre></td></tr></table></figure>
<h3 id="测试代理"><a href="#测试代理" class="headerlink" title="测试代理"></a>测试代理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ curl --socks5 127.0.0.1:1080 http://httpbin.org/ip</div><div class="line">&#123;</div><div class="line">  <span class="string">"origin"</span>: <span class="string">"xx.xx.xx.xx"</span> <span class="comment">#如果这个IP是你Shadowsocks服务器的IP就OK了。</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="requests使用Socks代理"><a href="#requests使用Socks代理" class="headerlink" title="requests使用Socks代理"></a>requests使用Socks代理</h2><h3 id="安装requests和PySocks"><a href="#安装requests和PySocks" class="headerlink" title="安装requests和PySocks"></a>安装requests和PySocks</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pip install <span class="string">'requests[socks]'</span></div></pre></td></tr></table></figure>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> requests</div><div class="line">proxies = &#123;</div><div class="line">    <span class="string">'http'</span>: <span class="string">'socks5://user:pass@host:port'</span>,</div><div class="line">    <span class="string">'https'</span>: <span class="string">'socks5://user:pass@host:port'</span></div><div class="line">&#125;</div><div class="line">requests.get(<span class="string">'https://httpbin.org/ip'</span>, proxies=proxies)</div><div class="line"></div><div class="line"><span class="comment">###　通过Python交互式Shell测试代理</span></div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> requests</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>proxies = &#123;</div><div class="line"><span class="meta">... </span>    <span class="string">'http'</span>: <span class="string">'socks5:127.0.0.1:1080'</span>,</div><div class="line"><span class="meta">... </span>    <span class="string">'https'</span>: <span class="string">'socks5:127.0.0.1:1080'</span></div><div class="line"><span class="meta">... </span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>requests.get(<span class="string">'https://httpbin.org/ip'</span>, proxies=proxies)</div><div class="line">&lt;Response [<span class="number">200</span>]&gt;            <span class="comment">#HTTP返回码200，说明代理OK</span></div></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="http://www.kickshaw.me/2/" target="_blank" rel="external">http://www.kickshaw.me/2/</a><br><a href="http://overtrue.me/articles/2016/03/shadowsocks-on-server.html" target="_blank" rel="external">http://overtrue.me/articles/2016/03/shadowsocks-on-server.html</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>http://liuxiaohui.net/2016/06/06/hello-world.html</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    </entry>
    
  
  
</search>
